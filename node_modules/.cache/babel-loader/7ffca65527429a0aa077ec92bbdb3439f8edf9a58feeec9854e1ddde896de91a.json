{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{supabase}from'./supabaseClient.ts';import Header from'./components/Header.tsx';import Home from'./pages/Home.tsx';import Login from'./pages/Login.tsx';import SignUp from'./pages/SignUp.tsx';import ProtectedRoute from'./components/ProtectedRoute.tsx';import AdminRoute from'./components/AdminRoute.tsx';import'./styles/global.css';// Lazy load components for better performance\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=/*#__PURE__*/React.lazy(()=>import('./pages/Dashboard.tsx'));const Devices=/*#__PURE__*/React.lazy(()=>import('./pages/Devices.tsx'));const DeviceSetup=/*#__PURE__*/React.lazy(()=>import('./pages/DeviceSetup.tsx'));const Pets=/*#__PURE__*/React.lazy(()=>import('./pages/Pets.tsx'));const Schedule=/*#__PURE__*/React.lazy(()=>import('./pages/Schedule.tsx'));const History=/*#__PURE__*/React.lazy(()=>import('./pages/History.tsx'));const Profile=/*#__PURE__*/React.lazy(()=>import('./pages/Profile.tsx'));const Settings=/*#__PURE__*/React.lazy(()=>import('./pages/Settings.tsx'));const AdminDashboard=/*#__PURE__*/React.lazy(()=>import('./pages/AdminDashboard.tsx'));const UserManagement=/*#__PURE__*/React.lazy(()=>import('./pages/UserManagement.tsx'));const AdminSettings=/*#__PURE__*/React.lazy(()=>import('./pages/AdminSettings.tsx'));const ForgotPassword=/*#__PURE__*/React.lazy(()=>import('./pages/ForgotPassword.tsx'));const AuthCallback=/*#__PURE__*/React.lazy(()=>import('./pages/AuthCallback.tsx'));const App=()=>{const[session,setSession]=useState(null);const[loading,setLoading]=useState(true);const[userProfile,setUserProfile]=useState(null);const[userPreferences,setUserPreferences]=useState(null);const[isAdmin,setIsAdmin]=useState(false);useEffect(()=>{// Set up auth state listener\nconst{data:authListener}=supabase.auth.onAuthStateChange(async(event,session)=>{setSession(session);// If session exists, fetch user profile and preferences\nif(session){await fetchUserData(session);}else{setUserProfile(null);setUserPreferences(null);setIsAdmin(false);}setLoading(false);});// Initial session check\nconst checkSession=async()=>{const{data}=await supabase.auth.getSession();setSession(data.session);if(data.session){await fetchUserData(data.session);}setLoading(false);};checkSession();// Apply theme and dark mode from localStorage for initial render\nconst storedTheme=localStorage.getItem('theme')||'orange';const storedDarkMode=localStorage.getItem('darkMode')==='true';document.body.classList.add(`theme-${storedTheme}`);if(storedDarkMode){document.body.classList.add('dark-mode');}// Cleanup\nreturn()=>{authListener.subscription.unsubscribe();};},[]);const fetchUserData=async session=>{try{// Fetch user profile\nconst{data:profile,error:profileError}=await supabase.from('profiles').select('*').eq('id',session.user.id).single();if(profileError)throw profileError;setUserProfile(profile);// Fetch user preferences\nconst{data:preferences,error:prefError}=await supabase.from('user_preferences').select('*').eq('id',session.user.id).single();if(preferences){setUserPreferences(preferences);// Apply theme and dark mode from preferences\ndocument.body.classList.remove('theme-orange','theme-blue','theme-purple');document.body.classList.add(`theme-${preferences.theme}`);if(preferences.dark_mode){document.body.classList.add('dark-mode');}else{document.body.classList.remove('dark-mode');}// Save to localStorage as well\nlocalStorage.setItem('theme',preferences.theme);localStorage.setItem('darkMode',preferences.dark_mode.toString());}else if(prefError&&prefError.code!=='PGRST116'){// If error is not \"no rows returned\" error\nconsole.error(\"Error fetching user preferences:\",prefError);}// Check if user is admin\nconst isAdminUser=session.user.email==='petfeeder@redwancodes.com'||profile&&profile.role==='admin';setIsAdmin(isAdminUser);}catch(error){console.error(\"Error fetching user data:\",error);}};const handleThemeChange=theme=>{// Theme changes will be handled by the Header component directly\n// since it updates both localStorage and user preferences in the database\n};const handleDarkModeToggle=()=>{// Dark mode toggle will be handled by the Header component directly\n// since it updates both localStorage and user preferences in the database\n};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading Smart Pet Feeder...\"})]});}return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{session:session,profile:userProfile,isAdmin:isAdmin,userPreferences:userPreferences,onThemeChange:handleThemeChange,onDarkModeToggle:handleDarkModeToggle}),/*#__PURE__*/_jsx(\"main\",{className:`main-content ${session?'authenticated':''}`,children:/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:/*#__PURE__*/_jsx(ForgotPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth/callback\",element:/*#__PURE__*/_jsx(AuthCallback,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/devices\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Devices,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/device-setup\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(DeviceSetup,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/pets\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Pets,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/schedule\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Schedule,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(History,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Settings,{userPreferences:userPreferences})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{session:session,children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(AdminRoute,{session:session,children:/*#__PURE__*/_jsx(UserManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/settings\",element:/*#__PURE__*/_jsx(AdminRoute,{session:session,children:/*#__PURE__*/_jsx(AdminSettings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","supabase","Header","Home","Login","SignUp","ProtectedRoute","AdminRoute","jsx","_jsx","jsxs","_jsxs","Dashboard","lazy","Devices","DeviceSetup","Pets","Schedule","History","Profile","Settings","AdminDashboard","UserManagement","AdminSettings","ForgotPassword","AuthCallback","App","session","setSession","loading","setLoading","userProfile","setUserProfile","userPreferences","setUserPreferences","isAdmin","setIsAdmin","data","authListener","auth","onAuthStateChange","event","fetchUserData","checkSession","getSession","storedTheme","localStorage","getItem","storedDarkMode","document","body","classList","add","subscription","unsubscribe","profile","error","profileError","from","select","eq","user","id","single","preferences","prefError","remove","theme","dark_mode","setItem","toString","code","console","isAdminUser","email","role","handleThemeChange","handleDarkModeToggle","className","children","onThemeChange","onDarkModeToggle","Suspense","fallback","path","element","to"],"sources":["/workspaces/Smart_Pet_Feeder/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { supabase } from './supabaseClient.ts';\nimport Header from './components/Header.tsx';\nimport Home from './pages/Home.tsx';\nimport Login from './pages/Login.tsx';\nimport SignUp from './pages/SignUp.tsx';\nimport ProtectedRoute from './components/ProtectedRoute.tsx';\nimport AdminRoute from './components/AdminRoute.tsx';\nimport './styles/global.css';\n\n// Lazy load components for better performance\nconst Dashboard = React.lazy(() => import('./pages/Dashboard.tsx'));\nconst Devices = React.lazy(() => import('./pages/Devices.tsx'));\nconst DeviceSetup = React.lazy(() => import('./pages/DeviceSetup.tsx'));\nconst Pets = React.lazy(() => import('./pages/Pets.tsx'));\nconst Schedule = React.lazy(() => import('./pages/Schedule.tsx'));\nconst History = React.lazy(() => import('./pages/History.tsx'));\nconst Profile = React.lazy(() => import('./pages/Profile.tsx'));\nconst Settings = React.lazy(() => import('./pages/Settings.tsx'));\nconst AdminDashboard = React.lazy(() => import('./pages/AdminDashboard.tsx'));\nconst UserManagement = React.lazy(() => import('./pages/UserManagement.tsx'));\nconst AdminSettings = React.lazy(() => import('./pages/AdminSettings.tsx'));\nconst ForgotPassword = React.lazy(() => import('./pages/ForgotPassword.tsx'));\nconst AuthCallback = React.lazy(() => import('./pages/AuthCallback.tsx'));\n\nconst App: React.FC = () => {\n  const [session, setSession] = useState<any>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [userProfile, setUserProfile] = useState<any>(null);\n  const [userPreferences, setUserPreferences] = useState<any>(null);\n  const [isAdmin, setIsAdmin] = useState<boolean>(false);\n\n  useEffect(() => {\n    // Set up auth state listener\n    const { data: authListener } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        setSession(session);\n        \n        // If session exists, fetch user profile and preferences\n        if (session) {\n          await fetchUserData(session);\n        } else {\n          setUserProfile(null);\n          setUserPreferences(null);\n          setIsAdmin(false);\n        }\n        \n        setLoading(false);\n      }\n    );\n\n    // Initial session check\n    const checkSession = async () => {\n      const { data } = await supabase.auth.getSession();\n      setSession(data.session);\n      \n      if (data.session) {\n        await fetchUserData(data.session);\n      }\n      \n      setLoading(false);\n    };\n    \n    checkSession();\n\n    // Apply theme and dark mode from localStorage for initial render\n    const storedTheme = localStorage.getItem('theme') || 'orange';\n    const storedDarkMode = localStorage.getItem('darkMode') === 'true';\n    \n    document.body.classList.add(`theme-${storedTheme}`);\n    if (storedDarkMode) {\n      document.body.classList.add('dark-mode');\n    }\n\n    // Cleanup\n    return () => {\n      authListener.subscription.unsubscribe();\n    };\n  }, []);\n\n  const fetchUserData = async (session: any) => {\n    try {\n      // Fetch user profile\n      const { data: profile, error: profileError } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', session.user.id)\n        .single();\n        \n      if (profileError) throw profileError;\n      setUserProfile(profile);\n      \n      // Fetch user preferences\n      const { data: preferences, error: prefError } = await supabase\n        .from('user_preferences')\n        .select('*')\n        .eq('id', session.user.id)\n        .single();\n      \n      if (preferences) {\n        setUserPreferences(preferences);\n        \n        // Apply theme and dark mode from preferences\n        document.body.classList.remove('theme-orange', 'theme-blue', 'theme-purple');\n        document.body.classList.add(`theme-${preferences.theme}`);\n        \n        if (preferences.dark_mode) {\n          document.body.classList.add('dark-mode');\n        } else {\n          document.body.classList.remove('dark-mode');\n        }\n        \n        // Save to localStorage as well\n        localStorage.setItem('theme', preferences.theme);\n        localStorage.setItem('darkMode', preferences.dark_mode.toString());\n      } else if (prefError && prefError.code !== 'PGRST116') {\n        // If error is not \"no rows returned\" error\n        console.error(\"Error fetching user preferences:\", prefError);\n      }\n      \n      // Check if user is admin\n      const isAdminUser = \n        session.user.email === 'petfeeder@redwancodes.com' || \n        (profile && profile.role === 'admin');\n        \n      setIsAdmin(isAdminUser);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n    }\n  };\n  \n  const handleThemeChange = (theme: string) => {\n    // Theme changes will be handled by the Header component directly\n    // since it updates both localStorage and user preferences in the database\n  };\n  \n  const handleDarkModeToggle = () => {\n    // Dark mode toggle will be handled by the Header component directly\n    // since it updates both localStorage and user preferences in the database\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading Smart Pet Feeder...</p>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <Header \n        session={session} \n        profile={userProfile} \n        isAdmin={isAdmin} \n        userPreferences={userPreferences}\n        onThemeChange={handleThemeChange}\n        onDarkModeToggle={handleDarkModeToggle}\n      />\n      <main className={`main-content ${session ? 'authenticated' : ''}`}>\n        <React.Suspense fallback={\n          <div className=\"loading-container\">\n            <div className=\"loading-spinner\"></div>\n            <p>Loading...</p>\n          </div>\n        }>\n          <Routes>\n            {/* Public routes */}\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/signup\" element={<SignUp />} />\n            <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n            <Route path=\"/auth/callback\" element={<AuthCallback />} />\n            \n            {/* Protected routes */}\n            <Route path=\"/dashboard\" element={\n              <ProtectedRoute session={session}>\n                <Dashboard />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/devices\" element={\n              <ProtectedRoute session={session}>\n                <Devices />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/device-setup\" element={\n              <ProtectedRoute session={session}>\n                <DeviceSetup />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/pets\" element={\n              <ProtectedRoute session={session}>\n                <Pets />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/schedule\" element={\n              <ProtectedRoute session={session}>\n                <Schedule />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/history\" element={\n              <ProtectedRoute session={session}>\n                <History />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/profile\" element={\n              <ProtectedRoute session={session}>\n                <Profile />\n              </ProtectedRoute>\n            } />\n            <Route path=\"/settings\" element={\n              <ProtectedRoute session={session}>\n                <Settings userPreferences={userPreferences} />\n              </ProtectedRoute>\n            } />\n            \n            {/* Admin routes */}\n            <Route path=\"/admin\" element={\n              <AdminRoute session={session}>\n                <AdminDashboard />\n              </AdminRoute>\n            } />\n            <Route path=\"/admin/users\" element={\n              <AdminRoute session={session}>\n                <UserManagement />\n              </AdminRoute>\n            } />\n            <Route path=\"/admin/settings\" element={\n              <AdminRoute session={session}>\n                <AdminSettings />\n              </AdminRoute>\n            } />\n            \n            {/* Fallback route */}\n            <Route path=\"*\" element={<Navigate to=\"/\" />} />\n          </Routes>\n        </React.Suspense>\n      </main>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
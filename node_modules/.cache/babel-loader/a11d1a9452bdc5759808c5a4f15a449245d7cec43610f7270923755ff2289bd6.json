{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{supabase,checkSystemClock}from'./supabaseClient.ts';import Header from'./components/Header.tsx';import Home from'./pages/Home.tsx';import Login from'./pages/Login.tsx';import SignUp from'./pages/SignUp.tsx';import ProtectedRoute from'./components/ProtectedRoute.tsx';import AdminRoute from'./components/AdminRoute.tsx';import'./styles/global.css';import TimeSkewWarning from'./components/TimeSkewWarning';// Lazy load components for better performance\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=/*#__PURE__*/React.lazy(()=>import('./pages/Dashboard.tsx'));const Devices=/*#__PURE__*/React.lazy(()=>import('./pages/Devices.tsx'));const DeviceSetup=/*#__PURE__*/React.lazy(()=>import('./pages/DeviceSetup.tsx'));const Pets=/*#__PURE__*/React.lazy(()=>import('./pages/Pets.tsx'));const Schedule=/*#__PURE__*/React.lazy(()=>import('./pages/Schedule.tsx'));const History=/*#__PURE__*/React.lazy(()=>import('./pages/History.tsx'));const Profile=/*#__PURE__*/React.lazy(()=>import('./pages/Profile.tsx'));const Settings=/*#__PURE__*/React.lazy(()=>import('./pages/Settings.tsx'));const AdminDashboard=/*#__PURE__*/React.lazy(()=>import('./pages/AdminDashboard.tsx'));const UserManagement=/*#__PURE__*/React.lazy(()=>import('./pages/UserManagement.tsx'));const AdminSettings=/*#__PURE__*/React.lazy(()=>import('./pages/AdminSettings.tsx'));const ForgotPassword=/*#__PURE__*/React.lazy(()=>import('./pages/ForgotPassword.tsx'));const AuthCallback=/*#__PURE__*/React.lazy(()=>import('./pages/AuthCallback.tsx'));const App=()=>{const[session,setSession]=useState(null);const[loading,setLoading]=useState(true);const[userProfile,setUserProfile]=useState(null);const[userPreferences,setUserPreferences]=useState(null);const[isAdmin,setIsAdmin]=useState(false);const[timeSkewData,setTimeSkewData]=useState({hasSkew:false});useEffect(()=>{// Check for system clock issues on app load, but with debouncing\nconst verifySystemClock=async()=>{try{const clockCheck=await checkSystemClock();if(clockCheck.hasSkew){console.warn(`System clock is off by ${clockCheck.skewSeconds} seconds. Adjust your system time for proper authentication.`);setTimeSkewData(clockCheck);}}catch(error){console.error(\"Failed to check system clock:\",error);}};// Only check once per session\nconst hasCheckedClock=sessionStorage.getItem('clockChecked');if(!hasCheckedClock){verifySystemClock();sessionStorage.setItem('clockChecked','true');}// Set up auth state listener\nconst{data:authListener}=supabase.auth.onAuthStateChange(async(event,session)=>{setSession(session);// If session exists, fetch user profile and preferences\nif(session){await fetchUserData(session);}else{setUserProfile(null);setUserPreferences(null);setIsAdmin(false);}setLoading(false);});// Initial session check\nconst checkSession=async()=>{try{// Add extra handling for potential token issues\nconst{data:{session},error}=await supabase.auth.getSession();if(error){if(error.message.includes('future')||error.message.includes('clock skew')){setTimeSkewData({hasSkew:true});console.error(\"Authentication error likely due to clock skew:\",error.message);}// ...rest of your error handling...\n}setSession(session);if(session){await fetchUserData(session);}setLoading(false);}catch(err){console.error(\"Error checking session:\",err);}};checkSession();// Apply theme and dark mode from localStorage for initial render\nconst storedTheme=localStorage.getItem('theme')||'orange';const storedDarkMode=localStorage.getItem('darkMode')==='true';document.body.classList.add(`theme-${storedTheme}`);if(storedDarkMode){document.body.classList.add('dark-mode');}// Cleanup\nreturn()=>{authListener.subscription.unsubscribe();};},[]);const fetchUserData=async session=>{try{// Fetch user profile\nconst{data:profile,error:profileError}=await supabase.from('profiles').select('*').eq('id',session.user.id).single();if(profileError)throw profileError;setUserProfile(profile);// Fetch user preferences\nconst{data:preferences,error:prefError}=await supabase.from('user_preferences').select('*').eq('id',session.user.id).single();if(preferences){setUserPreferences(preferences);// Apply theme and dark mode from preferences\ndocument.body.classList.remove('theme-orange','theme-blue','theme-purple');document.body.classList.add(`theme-${preferences.theme}`);if(preferences.dark_mode){document.body.classList.add('dark-mode');}else{document.body.classList.remove('dark-mode');}// Save to localStorage as well\nlocalStorage.setItem('theme',preferences.theme);localStorage.setItem('darkMode',preferences.dark_mode.toString());}else if(prefError&&prefError.code!=='PGRST116'){// If error is not \"no rows returned\" error\nconsole.error(\"Error fetching user preferences:\",prefError);}// Check if user is admin\nconst isAdminUser=session.user.email==='petfeeder@redwancodes.com'||profile&&profile.role==='admin';setIsAdmin(isAdminUser);}catch(error){console.error(\"Error fetching user data:\",error);}};const handleThemeChange=theme=>{// Theme changes will be handled by the Header component directly\n// since it updates both localStorage and user preferences in the database\n};const handleDarkModeToggle=()=>{// Dark mode toggle will be handled by the Header component directly\n// since it updates both localStorage and user preferences in the database\n};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading Smart Pet Feeder...\"})]});}// Handle dismissing the time skew warning\nconst dismissTimeSkewWarning=()=>{setTimeSkewData({hasSkew:false});// Store dismissal for 6 hours to avoid repeated warnings\nconst sixHoursFromNow=new Date().getTime()+6*60*60*1000;localStorage.setItem('timeSkewDismissed',sixHoursFromNow.toString());};return/*#__PURE__*/_jsxs(_Fragment,{children:[timeSkewData.hasSkew&&/*#__PURE__*/_jsx(TimeSkewWarning,{skewSeconds:timeSkewData.skewSeconds||0,onDismiss:dismissTimeSkewWarning,localTime:timeSkewData.localTime,serverTime:timeSkewData.serverTime}),/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{session:session,profile:userProfile,isAdmin:isAdmin,userPreferences:userPreferences,onThemeChange:handleThemeChange,onDarkModeToggle:handleDarkModeToggle}),/*#__PURE__*/_jsx(\"main\",{className:`main-content ${session?'authenticated':''}`,children:/*#__PURE__*/_jsx(React.Suspense,{fallback:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot-password\",element:/*#__PURE__*/_jsx(ForgotPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth/callback\",element:/*#__PURE__*/_jsx(AuthCallback,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/devices\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Devices,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/device-setup\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(DeviceSetup,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/pets\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Pets,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/schedule\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Schedule,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(History,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{session:session,children:/*#__PURE__*/_jsx(Settings,{userPreferences:userPreferences})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{session:session,children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(AdminRoute,{session:session,children:/*#__PURE__*/_jsx(UserManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/settings\",element:/*#__PURE__*/_jsx(AdminRoute,{session:session,children:/*#__PURE__*/_jsx(AdminSettings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","supabase","checkSystemClock","Header","Home","Login","SignUp","ProtectedRoute","AdminRoute","TimeSkewWarning","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","lazy","Devices","DeviceSetup","Pets","Schedule","History","Profile","Settings","AdminDashboard","UserManagement","AdminSettings","ForgotPassword","AuthCallback","App","session","setSession","loading","setLoading","userProfile","setUserProfile","userPreferences","setUserPreferences","isAdmin","setIsAdmin","timeSkewData","setTimeSkewData","hasSkew","verifySystemClock","clockCheck","console","warn","skewSeconds","error","hasCheckedClock","sessionStorage","getItem","setItem","data","authListener","auth","onAuthStateChange","event","fetchUserData","checkSession","getSession","message","includes","err","storedTheme","localStorage","storedDarkMode","document","body","classList","add","subscription","unsubscribe","profile","profileError","from","select","eq","user","id","single","preferences","prefError","remove","theme","dark_mode","toString","code","isAdminUser","email","role","handleThemeChange","handleDarkModeToggle","className","children","dismissTimeSkewWarning","sixHoursFromNow","Date","getTime","onDismiss","localTime","serverTime","onThemeChange","onDarkModeToggle","Suspense","fallback","path","element","to"],"sources":["/workspaces/Smart_Pet_Feeder/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { supabase, checkSystemClock } from './supabaseClient.ts';\nimport Header from './components/Header.tsx';\nimport Home from './pages/Home.tsx';\nimport Login from './pages/Login.tsx';\nimport SignUp from './pages/SignUp.tsx';\nimport ProtectedRoute from './components/ProtectedRoute.tsx';\nimport AdminRoute from './components/AdminRoute.tsx';\nimport './styles/global.css';\nimport TimeSkewWarning from './components/TimeSkewWarning';\n\n// Lazy load components for better performance\nconst Dashboard = React.lazy(() => import('./pages/Dashboard.tsx'));\nconst Devices = React.lazy(() => import('./pages/Devices.tsx'));\nconst DeviceSetup = React.lazy(() => import('./pages/DeviceSetup.tsx'));\nconst Pets = React.lazy(() => import('./pages/Pets.tsx'));\nconst Schedule = React.lazy(() => import('./pages/Schedule.tsx'));\nconst History = React.lazy(() => import('./pages/History.tsx'));\nconst Profile = React.lazy(() => import('./pages/Profile.tsx'));\nconst Settings = React.lazy(() => import('./pages/Settings.tsx'));\nconst AdminDashboard = React.lazy(() => import('./pages/AdminDashboard.tsx'));\nconst UserManagement = React.lazy(() => import('./pages/UserManagement.tsx'));\nconst AdminSettings = React.lazy(() => import('./pages/AdminSettings.tsx'));\nconst ForgotPassword = React.lazy(() => import('./pages/ForgotPassword.tsx'));\nconst AuthCallback = React.lazy(() => import('./pages/AuthCallback.tsx'));\n\nconst App: React.FC = () => {\n  const [session, setSession] = useState<any>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [userProfile, setUserProfile] = useState<any>(null);\n  const [userPreferences, setUserPreferences] = useState<any>(null);\n  const [isAdmin, setIsAdmin] = useState<boolean>(false);\n  const [timeSkewData, setTimeSkewData] = useState<{\n    hasSkew: boolean;\n    skewSeconds?: number;\n    serverTime?: number;\n    localTime?: number;\n  }>({ hasSkew: false });\n\n  useEffect(() => {\n    // Check for system clock issues on app load, but with debouncing\n    const verifySystemClock = async () => {\n      try {\n        const clockCheck = await checkSystemClock();\n        if (clockCheck.hasSkew) {\n          console.warn(`System clock is off by ${clockCheck.skewSeconds} seconds. Adjust your system time for proper authentication.`);\n          setTimeSkewData(clockCheck);\n        }\n      } catch (error) {\n        console.error(\"Failed to check system clock:\", error);\n      }\n    };\n    \n    // Only check once per session\n    const hasCheckedClock = sessionStorage.getItem('clockChecked');\n    if (!hasCheckedClock) {\n      verifySystemClock();\n      sessionStorage.setItem('clockChecked', 'true');\n    }\n\n    // Set up auth state listener\n    const { data: authListener } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        setSession(session);\n        \n        // If session exists, fetch user profile and preferences\n        if (session) {\n          await fetchUserData(session);\n        } else {\n          setUserProfile(null);\n          setUserPreferences(null);\n          setIsAdmin(false);\n        }\n        \n        setLoading(false);\n      }\n    );\n\n    // Initial session check\n    const checkSession = async () => {\n      try {\n        // Add extra handling for potential token issues\n        const { data: { session }, error } = await supabase.auth.getSession();\n        if (error) {\n          if (error.message.includes('future') || error.message.includes('clock skew')) {\n            setTimeSkewData({ hasSkew: true });\n            console.error(\"Authentication error likely due to clock skew:\", error.message);\n          }\n          // ...rest of your error handling...\n        }\n        setSession(session);\n        \n        if (session) {\n          await fetchUserData(session);\n        }\n        \n        setLoading(false);\n      } catch (err) {\n        console.error(\"Error checking session:\", err);\n      }\n    };\n    \n    checkSession();\n\n    // Apply theme and dark mode from localStorage for initial render\n    const storedTheme = localStorage.getItem('theme') || 'orange';\n    const storedDarkMode = localStorage.getItem('darkMode') === 'true';\n    \n    document.body.classList.add(`theme-${storedTheme}`);\n    if (storedDarkMode) {\n      document.body.classList.add('dark-mode');\n    }\n\n    // Cleanup\n    return () => {\n      authListener.subscription.unsubscribe();\n    };\n  }, []);\n\n  const fetchUserData = async (session: any) => {\n    try {\n      // Fetch user profile\n      const { data: profile, error: profileError } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', session.user.id)\n        .single();\n        \n      if (profileError) throw profileError;\n      setUserProfile(profile);\n      \n      // Fetch user preferences\n      const { data: preferences, error: prefError } = await supabase\n        .from('user_preferences')\n        .select('*')\n        .eq('id', session.user.id)\n        .single();\n      \n      if (preferences) {\n        setUserPreferences(preferences);\n        \n        // Apply theme and dark mode from preferences\n        document.body.classList.remove('theme-orange', 'theme-blue', 'theme-purple');\n        document.body.classList.add(`theme-${preferences.theme}`);\n        \n        if (preferences.dark_mode) {\n          document.body.classList.add('dark-mode');\n        } else {\n          document.body.classList.remove('dark-mode');\n        }\n        \n        // Save to localStorage as well\n        localStorage.setItem('theme', preferences.theme);\n        localStorage.setItem('darkMode', preferences.dark_mode.toString());\n      } else if (prefError && prefError.code !== 'PGRST116') {\n        // If error is not \"no rows returned\" error\n        console.error(\"Error fetching user preferences:\", prefError);\n      }\n      \n      // Check if user is admin\n      const isAdminUser = \n        session.user.email === 'petfeeder@redwancodes.com' || \n        (profile && profile.role === 'admin');\n        \n      setIsAdmin(isAdminUser);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n    }\n  };\n  \n  const handleThemeChange = (theme: string) => {\n    // Theme changes will be handled by the Header component directly\n    // since it updates both localStorage and user preferences in the database\n  };\n  \n  const handleDarkModeToggle = () => {\n    // Dark mode toggle will be handled by the Header component directly\n    // since it updates both localStorage and user preferences in the database\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Loading Smart Pet Feeder...</p>\n      </div>\n    );\n  }\n\n  // Handle dismissing the time skew warning\n  const dismissTimeSkewWarning = () => {\n    setTimeSkewData({ hasSkew: false });\n    // Store dismissal for 6 hours to avoid repeated warnings\n    const sixHoursFromNow = new Date().getTime() + (6 * 60 * 60 * 1000);\n    localStorage.setItem('timeSkewDismissed', sixHoursFromNow.toString());\n  };\n\n  return (\n    <>\n      {timeSkewData.hasSkew && (\n        <TimeSkewWarning \n          skewSeconds={timeSkewData.skewSeconds || 0} \n          onDismiss={dismissTimeSkewWarning}\n          localTime={timeSkewData.localTime}\n          serverTime={timeSkewData.serverTime}\n        />\n      )}\n      \n      <Router>\n        <Header \n          session={session} \n          profile={userProfile} \n          isAdmin={isAdmin} \n          userPreferences={userPreferences}\n          onThemeChange={handleThemeChange}\n          onDarkModeToggle={handleDarkModeToggle}\n        />\n        <main className={`main-content ${session ? 'authenticated' : ''}`}>\n          <React.Suspense fallback={\n            <div className=\"loading-container\">\n              <div className=\"loading-spinner\"></div>\n              <p>Loading...</p>\n            </div>\n          }>\n            <Routes>\n              {/* Public routes */}\n              <Route path=\"/\" element={<Home />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/signup\" element={<SignUp />} />\n              <Route path=\"/forgot-password\" element={<ForgotPassword />} />\n              <Route path=\"/auth/callback\" element={<AuthCallback />} />\n              \n              {/* Protected routes */}\n              <Route path=\"/dashboard\" element={\n                <ProtectedRoute session={session}>\n                  <Dashboard />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/devices\" element={\n                <ProtectedRoute session={session}>\n                  <Devices />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/device-setup\" element={\n                <ProtectedRoute session={session}>\n                  <DeviceSetup />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/pets\" element={\n                <ProtectedRoute session={session}>\n                  <Pets />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/schedule\" element={\n                <ProtectedRoute session={session}>\n                  <Schedule />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/history\" element={\n                <ProtectedRoute session={session}>\n                  <History />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/profile\" element={\n                <ProtectedRoute session={session}>\n                  <Profile />\n                </ProtectedRoute>\n              } />\n              <Route path=\"/settings\" element={\n                <ProtectedRoute session={session}>\n                  <Settings userPreferences={userPreferences} />\n                </ProtectedRoute>\n              } />\n              \n              {/* Admin routes */}\n              <Route path=\"/admin\" element={\n                <AdminRoute session={session}>\n                  <AdminDashboard />\n                </AdminRoute>\n              } />\n              <Route path=\"/admin/users\" element={\n                <AdminRoute session={session}>\n                  <UserManagement />\n                </AdminRoute>\n              } />\n              <Route path=\"/admin/settings\" element={\n                <AdminRoute session={session}>\n                  <AdminSettings />\n                </AdminRoute>\n              } />\n              \n              {/* Fallback route */}\n              <Route path=\"*\" element={<Navigate to=\"/\" />} />\n            </Routes>\n          </React.Suspense>\n        </main>\n      </Router>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
"use strict";(self.webpackChunksmart_pet_feeder=self.webpackChunksmart_pet_feeder||[]).push([[660],{660:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var r=s(43),a=s(584),i=s(579);const c=()=>{const[e,t]=(0,r.useState)([]),[s,c]=(0,r.useState)(""),[n,l]=(0,r.useState)(1),[d]=(0,r.useState)(10);(0,r.useEffect)((()=>{(async()=>{const{data:e,error:s}=await a.N.from("feeding_history").select("*").order("time",{ascending:!1});s?console.error("Error fetching history:",s):t(e||[])})()}),[]);const h=e.filter((e=>e.device_id.toLowerCase().includes(s.toLowerCase()))),o=h.slice((n-1)*d,n*d),u=Math.ceil(h.length/d);return(0,i.jsxs)("div",{className:"history-container",children:[(0,i.jsx)("h1",{children:"Feeding History"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by device ID",value:s,onChange:e=>c(e.target.value),className:"search-bar"}),(0,i.jsxs)("table",{className:"history-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Device ID"}),(0,i.jsx)("th",{children:"Time"}),(0,i.jsx)("th",{children:"Amount (g)"})]})}),(0,i.jsx)("tbody",{children:o.map(((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.device_id}),(0,i.jsx)("td",{children:new Date(e.time).toLocaleString()}),(0,i.jsx)("td",{children:e.amount})]},t)))})]}),(0,i.jsx)("div",{className:"pagination",children:Array.from({length:u},((e,t)=>t+1)).map((e=>(0,i.jsx)("button",{onClick:()=>(e=>{l(e)})(e),className:e===n?"active":"",children:e},e)))})]})}}}]);
//# sourceMappingURL=660.a0e4da54.chunk.js.map
{"ast":null,"code":"var _jsxFileName = \"/workspaces/Smart_Pet_Feeder/src/pages/DeviceSetup.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient.ts';\nimport { isValidSSID, isValidWiFiPassword } from '../utils/validation.ts';\nimport '../styles/DeviceSetup.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeviceSetup = () => {\n  _s();\n  const [ssid, setSSID] = useState('');\n  const [password, setPassword] = useState('');\n  const [errors, setErrors] = useState({});\n  const [currentStep, setCurrentStep] = useState(1);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [deviceId, setDeviceId] = useState('');\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  // Check if already connected to the Pet Feeder setup network\n  useEffect(() => {\n    // This is a client-side check and may not be accurate\n    // Best we can do is check if the network SSID matches\n    const checkNetwork = async () => {\n      try {\n        // In a real app, we might use a service worker or native app capability\n        // to check the network. Here we just simulate checking.\n        console.log(\"Checking if connected to PetFeederSetup network...\");\n\n        // For demonstration, we'll assume we're not connected yet\n        setCurrentStep(1);\n      } catch (err) {\n        console.error(\"Error checking network:\", err);\n      }\n    };\n    checkNetwork();\n  }, []);\n  const validateForm = () => {\n    const newErrors = {};\n    let isValid = true;\n    if (!ssid || !isValidSSID(ssid)) {\n      newErrors.ssid = 'Please enter a valid WiFi name';\n      isValid = false;\n    }\n    if (!password || !isValidWiFiPassword(password)) {\n      newErrors.password = 'Password must be at least 8 characters';\n      isValid = false;\n    }\n    setErrors(newErrors);\n    return isValid;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    try {\n      setIsConnecting(true);\n      setError(null);\n\n      // Get the current user session for JWT and ID\n      const {\n        data: sessionData,\n        error: sessionError\n      } = await supabase.auth.getSession();\n      if (sessionError) throw sessionError;\n      if (!sessionData.session) throw new Error('User not authenticated');\n      const user = sessionData.session.user;\n      const accessToken = sessionData.session.access_token;\n      if (!user || !accessToken) throw new Error('User authentication invalid');\n\n      // Simulate sending the request to the device in setup mode\n      console.log(`Sending setup request to http://192.168.4.1/setup`);\n      try {\n        const response = await fetch('http://192.168.4.1/setup', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Setup-Token': 'your-secret-token-1234'\n          },\n          mode: 'cors',\n          body: JSON.stringify({\n            ssid,\n            password,\n            user_id: user.id,\n            access_token: accessToken\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`Setup failed: ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (!data.device_id) {\n          throw new Error('Device ID not returned from setup');\n        }\n\n        // Register the device in Supabase with the ID received from the device\n        const {\n          data: device,\n          error: deviceError\n        } = await supabase.from('devices').insert([{\n          device_id: data.device_id,\n          user_id: user.id,\n          device_name: 'Pet Feeder',\n          last_status: {\n            food_level: 100,\n            wifi_strength: 0\n          }\n        }]).select();\n        if (deviceError) throw deviceError;\n\n        // Display the device ID with the pf- prefix for user friendliness\n        setDeviceId(`pf-${data.device_id.substring(0, 8)}`);\n        setIsSuccess(true);\n        setCurrentStep(3);\n      } catch (fetchError) {\n        console.error(\"Error communicating with device:\", fetchError);\n\n        // For demo purposes, let's simulate a successful response\n        // since the device doesn't actually exist in this environment\n        console.log(\"Simulating successful device setup for demo purposes\");\n\n        // Generate a proper UUID for device_id that matches Supabase's expectations\n        const mockDeviceId = crypto.randomUUID();\n\n        // Register the device in Supabase\n        const {\n          data: device,\n          error: deviceError\n        } = await supabase.from('devices').insert([{\n          device_id: mockDeviceId,\n          user_id: user.id,\n          device_name: 'Pet Feeder',\n          last_status: {\n            food_level: 80,\n            wifi_strength: 75\n          }\n        }]).select();\n        if (deviceError) throw deviceError;\n\n        // Store the device ID (we'll display it with the pf- prefix for UI consistency)\n        setDeviceId(`pf-${mockDeviceId.slice(0, 8)}`);\n        setIsSuccess(true);\n        setCurrentStep(3);\n      }\n    } catch (err) {\n      console.error(\"Setup error:\", err);\n      setError(`Setup failed: ${err.message}`);\n      setCurrentStep(4); // Error step\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n  const renderStep1 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"setup-step\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Step 1: Connect to Pet Feeder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"setup-instructions\",\n      children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Power on your Pet Feeder device\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Wait for the LED to blink blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Open your WiFi settings on your device\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Connect to the network named \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"PetFeederSetup\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 44\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Use password: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\\"12345678\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/wifi-setup.svg\",\n          alt: \"WiFi Setup Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => setCurrentStep(2),\n      children: \"I'm Connected to PetFeederSetup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n  const renderStep2 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"setup-step\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Step 2: Configure WiFi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"setup-subtitle\",\n      children: \"Enter your home WiFi details to connect your Pet Feeder to the internet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"setup-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"ssid\",\n          children: \"WiFi Name (SSID)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"ssid\",\n          type: \"text\",\n          value: ssid,\n          onChange: e => setSSID(e.target.value),\n          placeholder: \"Enter your WiFi name\",\n          disabled: isConnecting\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), errors.ssid && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-text\",\n          children: errors.ssid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"WiFi Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          placeholder: \"Enter your WiFi password\",\n          disabled: isConnecting\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), errors.password && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-text\",\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline\",\n          onClick: () => setCurrentStep(1),\n          disabled: isConnecting,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          disabled: isConnecting,\n          children: isConnecting ? 'Connecting...' : 'Connect Device'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n  const renderStep3 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"setup-step setup-success\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-icon\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"icon-check-circle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Setup Complete!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Your Pet Feeder has been successfully connected to your WiFi network.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"device-id\",\n      children: [\"Device ID: \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: deviceId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 43\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"setup-buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => navigate('/devices'),\n        children: \"View My Devices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n  const renderStep4 = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"setup-step setup-error\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-icon\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"icon-error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Setup Failed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error || 'There was a problem connecting your device. Please try again.'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"setup-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline\",\n        onClick: () => setCurrentStep(1),\n        children: \"Try Again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => navigate('/devices'),\n        children: \"View My Devices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"device-setup-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"setup-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Pet Feeder Setup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"setup-progress\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `progress-step ${currentStep >= 1 ? 'active' : ''}`,\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `progress-line ${currentStep >= 2 ? 'active' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `progress-step ${currentStep >= 2 ? 'active' : ''}`,\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `progress-line ${currentStep >= 3 ? 'active' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `progress-step ${currentStep >= 3 ? 'active' : ''}`,\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-content\",\n        children: [currentStep === 1 && renderStep1(), currentStep === 2 && renderStep2(), currentStep === 3 && renderStep3(), currentStep === 4 && renderStep4()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n};\n_s(DeviceSetup, \"VOeq4JtdzunRXy0mPw/s9OIan+I=\", false, function () {\n  return [useNavigate];\n});\n_c = DeviceSetup;\nexport default DeviceSetup;\nvar _c;\n$RefreshReg$(_c, \"DeviceSetup\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","isValidSSID","isValidWiFiPassword","jsxDEV","_jsxDEV","DeviceSetup","_s","ssid","setSSID","password","setPassword","errors","setErrors","currentStep","setCurrentStep","isConnecting","setIsConnecting","isSuccess","setIsSuccess","deviceId","setDeviceId","error","setError","navigate","checkNetwork","console","log","err","validateForm","newErrors","isValid","handleSubmit","e","preventDefault","data","sessionData","sessionError","auth","getSession","session","Error","user","accessToken","access_token","response","fetch","method","headers","mode","body","JSON","stringify","user_id","id","ok","statusText","json","device_id","device","deviceError","from","insert","device_name","last_status","food_level","wifi_strength","select","substring","fetchError","mockDeviceId","crypto","randomUUID","slice","message","renderStep1","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","renderStep2","onSubmit","htmlFor","type","value","onChange","target","placeholder","disabled","renderStep3","renderStep4","_c","$RefreshReg$"],"sources":["/workspaces/Smart_Pet_Feeder/src/pages/DeviceSetup.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient.ts';\nimport { isValidSSID, isValidWiFiPassword } from '../utils/validation.ts';\nimport '../styles/DeviceSetup.css';\n\nconst DeviceSetup: React.FC = () => {\n  const [ssid, setSSID] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [errors, setErrors] = useState<{ssid?: string; password?: string}>({});\n  const [currentStep, setCurrentStep] = useState<number>(1);\n  const [isConnecting, setIsConnecting] = useState<boolean>(false);\n  const [isSuccess, setIsSuccess] = useState<boolean>(false);\n  const [deviceId, setDeviceId] = useState<string>('');\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  // Check if already connected to the Pet Feeder setup network\n  useEffect(() => {\n    // This is a client-side check and may not be accurate\n    // Best we can do is check if the network SSID matches\n    const checkNetwork = async () => {\n      try {\n        // In a real app, we might use a service worker or native app capability\n        // to check the network. Here we just simulate checking.\n        console.log(\"Checking if connected to PetFeederSetup network...\");\n        \n        // For demonstration, we'll assume we're not connected yet\n        setCurrentStep(1);\n      } catch (err) {\n        console.error(\"Error checking network:\", err);\n      }\n    };\n    \n    checkNetwork();\n  }, []);\n\n  const validateForm = () => {\n    const newErrors: {ssid?: string; password?: string} = {};\n    let isValid = true;\n    \n    if (!ssid || !isValidSSID(ssid)) {\n      newErrors.ssid = 'Please enter a valid WiFi name';\n      isValid = false;\n    }\n    \n    if (!password || !isValidWiFiPassword(password)) {\n      newErrors.password = 'Password must be at least 8 characters';\n      isValid = false;\n    }\n    \n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n    \n    try {\n      setIsConnecting(true);\n      setError(null);\n      \n      // Get the current user session for JWT and ID\n      const { data: sessionData, error: sessionError } = await supabase.auth.getSession();\n      \n      if (sessionError) throw sessionError;\n      if (!sessionData.session) throw new Error('User not authenticated');\n      \n      const user = sessionData.session.user;\n      const accessToken = sessionData.session.access_token;\n      \n      if (!user || !accessToken) throw new Error('User authentication invalid');\n      \n      // Simulate sending the request to the device in setup mode\n      console.log(`Sending setup request to http://192.168.4.1/setup`);\n      \n      try {\n        const response = await fetch('http://192.168.4.1/setup', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Setup-Token': 'your-secret-token-1234'\n          },\n          mode: 'cors',\n          body: JSON.stringify({\n            ssid,\n            password,\n            user_id: user.id,\n            access_token: accessToken\n          })\n        });\n        \n        if (!response.ok) {\n          throw new Error(`Setup failed: ${response.statusText}`);\n        }\n        \n        const data = await response.json();\n        \n        if (!data.device_id) {\n          throw new Error('Device ID not returned from setup');\n        }\n        \n        // Register the device in Supabase with the ID received from the device\n        const { data: device, error: deviceError } = await supabase\n          .from('devices')\n          .insert([\n            {\n              device_id: data.device_id,\n              user_id: user.id,\n              device_name: 'Pet Feeder',\n              last_status: { food_level: 100, wifi_strength: 0 }\n            }\n          ])\n          .select();\n        \n        if (deviceError) throw deviceError;\n        \n        // Display the device ID with the pf- prefix for user friendliness\n        setDeviceId(`pf-${data.device_id.substring(0, 8)}`);\n        setIsSuccess(true);\n        setCurrentStep(3);\n      } catch (fetchError) {\n        console.error(\"Error communicating with device:\", fetchError);\n        \n        // For demo purposes, let's simulate a successful response\n        // since the device doesn't actually exist in this environment\n        console.log(\"Simulating successful device setup for demo purposes\");\n        \n        // Generate a proper UUID for device_id that matches Supabase's expectations\n        const mockDeviceId = crypto.randomUUID();\n        \n        // Register the device in Supabase\n        const { data: device, error: deviceError } = await supabase\n          .from('devices')\n          .insert([\n            {\n              device_id: mockDeviceId,\n              user_id: user.id,\n              device_name: 'Pet Feeder',\n              last_status: { food_level: 80, wifi_strength: 75 }\n            }\n          ])\n          .select();\n        \n        if (deviceError) throw deviceError;\n        \n        // Store the device ID (we'll display it with the pf- prefix for UI consistency)\n        setDeviceId(`pf-${mockDeviceId.slice(0, 8)}`);\n        setIsSuccess(true);\n        setCurrentStep(3);\n      }\n    } catch (err: any) {\n      console.error(\"Setup error:\", err);\n      setError(`Setup failed: ${err.message}`);\n      setCurrentStep(4); // Error step\n    } finally {\n      setIsConnecting(false);\n    }\n  };\n\n  const renderStep1 = () => (\n    <div className=\"setup-step\">\n      <h2>Step 1: Connect to Pet Feeder</h2>\n      <div className=\"setup-instructions\">\n        <ol>\n          <li>Power on your Pet Feeder device</li>\n          <li>Wait for the LED to blink blue</li>\n          <li>Open your WiFi settings on your device</li>\n          <li>Connect to the network named <strong>\"PetFeederSetup\"</strong></li>\n          <li>Use password: <strong>\"12345678\"</strong></li>\n        </ol>\n        <div className=\"setup-image\">\n          <img src=\"/images/wifi-setup.svg\" alt=\"WiFi Setup Instructions\" />\n        </div>\n      </div>\n      <button \n        className=\"btn btn-primary\" \n        onClick={() => setCurrentStep(2)}\n      >\n        I'm Connected to PetFeederSetup\n      </button>\n    </div>\n  );\n\n  const renderStep2 = () => (\n    <div className=\"setup-step\">\n      <h2>Step 2: Configure WiFi</h2>\n      <p className=\"setup-subtitle\">\n        Enter your home WiFi details to connect your Pet Feeder to the internet.\n      </p>\n      \n      {error && <div className=\"error-message\">{error}</div>}\n      \n      <form className=\"setup-form\" onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"ssid\">WiFi Name (SSID)</label>\n          <input\n            id=\"ssid\"\n            type=\"text\"\n            value={ssid}\n            onChange={(e) => setSSID(e.target.value)}\n            placeholder=\"Enter your WiFi name\"\n            disabled={isConnecting}\n          />\n          {errors.ssid && <span className=\"error-text\">{errors.ssid}</span>}\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"password\">WiFi Password</label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Enter your WiFi password\"\n            disabled={isConnecting}\n          />\n          {errors.password && <span className=\"error-text\">{errors.password}</span>}\n        </div>\n        \n        <div className=\"setup-buttons\">\n          <button \n            type=\"button\" \n            className=\"btn btn-outline\" \n            onClick={() => setCurrentStep(1)}\n            disabled={isConnecting}\n          >\n            Back\n          </button>\n          <button \n            type=\"submit\" \n            className=\"btn btn-primary\" \n            disabled={isConnecting}\n          >\n            {isConnecting ? 'Connecting...' : 'Connect Device'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n\n  const renderStep3 = () => (\n    <div className=\"setup-step setup-success\">\n      <div className=\"success-icon\">\n        <i className=\"icon-check-circle\"></i>\n      </div>\n      <h2>Setup Complete!</h2>\n      <p>Your Pet Feeder has been successfully connected to your WiFi network.</p>\n      <p className=\"device-id\">Device ID: <span>{deviceId}</span></p>\n      <div className=\"setup-buttons\">\n        <button \n          className=\"btn btn-primary\" \n          onClick={() => navigate('/devices')}\n        >\n          View My Devices\n        </button>\n      </div>\n    </div>\n  );\n\n  const renderStep4 = () => (\n    <div className=\"setup-step setup-error\">\n      <div className=\"error-icon\">\n        <i className=\"icon-error\"></i>\n      </div>\n      <h2>Setup Failed</h2>\n      <p>{error || 'There was a problem connecting your device. Please try again.'}</p>\n      <div className=\"setup-buttons\">\n        <button \n          className=\"btn btn-outline\" \n          onClick={() => setCurrentStep(1)}\n        >\n          Try Again\n        </button>\n        <button \n          className=\"btn btn-primary\" \n          onClick={() => navigate('/devices')}\n        >\n          View My Devices\n        </button>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"device-setup-container\">\n      <div className=\"setup-card\">\n        <div className=\"setup-header\">\n          <h1>Pet Feeder Setup</h1>\n          <div className=\"setup-progress\">\n            <div className={`progress-step ${currentStep >= 1 ? 'active' : ''}`}>1</div>\n            <div className={`progress-line ${currentStep >= 2 ? 'active' : ''}`}></div>\n            <div className={`progress-step ${currentStep >= 2 ? 'active' : ''}`}>2</div>\n            <div className={`progress-line ${currentStep >= 3 ? 'active' : ''}`}></div>\n            <div className={`progress-step ${currentStep >= 3 ? 'active' : ''}`}>3</div>\n          </div>\n        </div>\n        \n        <div className=\"setup-content\">\n          {currentStep === 1 && renderStep1()}\n          {currentStep === 2 && renderStep2()}\n          {currentStep === 3 && renderStep3()}\n          {currentStep === 4 && renderStep4()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeviceSetup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
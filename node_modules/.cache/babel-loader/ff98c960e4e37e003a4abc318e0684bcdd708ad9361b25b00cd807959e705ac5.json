{"ast":null,"code":"var _jsxFileName = \"/workspaces/Smart_Pet_Feeder/src/pages/Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient.ts';\nimport { isValidEmail } from '../utils/validation.ts';\nimport '../styles/Auth.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rememberMe, setRememberMe] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [loginAttempts, setLoginAttempts] = useState(0);\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Check if user is already logged in\n    const checkSession = async () => {\n      try {\n        const {\n          data,\n          error\n        } = await supabase.auth.getSession();\n        if (error) {\n          console.error(\"Session check error:\", error);\n          return;\n        }\n        if (data.session) {\n          // Get the redirect path from sessionStorage or default to dashboard\n          const redirectPath = sessionStorage.getItem('redirectAfterLogin') || '/dashboard';\n          // Clear the stored path\n          sessionStorage.removeItem('redirectAfterLogin');\n          // Navigate to the redirect path\n          navigate(redirectPath);\n        }\n      } catch (error) {\n        console.error(\"Failed to check session:\", error);\n      }\n    };\n    checkSession();\n  }, [navigate]);\n  const handleEmailLogin = async e => {\n    e.preventDefault();\n\n    // Form validation\n    if (!email || !isValidEmail(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    if (!password || password.length < 6) {\n      setError('Password must be at least 6 characters');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Track login attempts to detect potential issues\n      setLoginAttempts(prev => prev + 1);\n      const {\n        data,\n        error\n      } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      if (error) {\n        if (error.message.includes('Invalid login')) {\n          throw new Error('Invalid email or password');\n        }\n        throw error;\n      }\n      if (data.session) {\n        // Set session persistence based on rememberMe\n        if (rememberMe) {\n          // Session will persist for extended period\n          await supabase.auth.setSession({\n            access_token: data.session.access_token,\n            refresh_token: data.session.refresh_token\n          });\n        }\n\n        // Get the redirect path from sessionStorage or default to dashboard\n        const redirectPath = sessionStorage.getItem('redirectAfterLogin') || '/dashboard';\n        // Clear the stored path\n        sessionStorage.removeItem('redirectAfterLogin');\n        // Navigate to the redirect path\n        console.log(\"Login successful, redirecting to:\", redirectPath);\n        navigate(redirectPath);\n      }\n    } catch (err) {\n      setError(err.message || 'An error occurred during login');\n\n      // If multiple login attempts fail, provide more detailed error\n      if (loginAttempts > 2) {\n        console.error(\"Multiple login failures:\", err);\n        setError(`${err.message || 'Login failed'} - If this persists, please check your internet connection and try clearing your browser cache.`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSocialLogin = async provider => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Save current attempted path before OAuth redirect\n      const redirectPath = sessionStorage.getItem('redirectAfterLogin') || '/dashboard';\n      sessionStorage.setItem('socialAuthRedirect', redirectPath);\n      const {\n        error\n      } = await supabase.auth.signInWithOAuth({\n        provider,\n        options: {\n          redirectTo: `${window.location.origin}/auth/callback`\n        }\n      });\n      if (error) throw error;\n    } catch (err) {\n      setError(err.message || `Error signing in with ${provider}`);\n      setLoading(false);\n    }\n  };\n  const handleMagicLinkLogin = async () => {\n    if (!email || !isValidEmail(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const {\n        error\n      } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          emailRedirectTo: `${window.location.origin}/auth/callback`\n        }\n      });\n      if (error) throw error;\n      alert('Check your email for the magic link!');\n    } catch (err) {\n      setError(err.message || 'Error sending magic link');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container fade-in\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-logo\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.svg\",\n          alt: \"Pet Feeder Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Pet Feeder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Log in to your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleEmailLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            placeholder: \"your@email.com\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"password\",\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"remember-me\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"remember-me\",\n                type: \"checkbox\",\n                checked: rememberMe,\n                onChange: e => setRememberMe(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"remember-me\",\n                children: \"Remember me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/forgot-password\",\n              className: \"forgot-password\",\n              children: \"Forgot password?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-full\",\n          disabled: loading,\n          children: loading ? 'Logging in...' : 'Log In'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-divider\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"OR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"social-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSocialLogin('google'),\n          className: \"btn btn-social btn-google\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-google\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), \" Google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSocialLogin('facebook'),\n          className: \"btn btn-social btn-facebook\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-facebook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), \" Facebook\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSocialLogin('apple'),\n          className: \"btn btn-social btn-apple\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-apple\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), \" Apple\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSocialLogin('github'),\n          className: \"btn btn-social btn-github\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"icon-github\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), \" GitHub\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleMagicLinkLogin,\n        className: \"btn btn-outline btn-full\",\n        disabled: loading || !email,\n        children: \"Send Magic Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-footer\",\n        children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          children: \"Create an account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"lEJaIeaAW3my9PwePDuKTCvqF00=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","supabase","isValidEmail","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","rememberMe","setRememberMe","loading","setLoading","error","setError","loginAttempts","setLoginAttempts","navigate","checkSession","data","auth","getSession","console","session","redirectPath","sessionStorage","getItem","removeItem","handleEmailLogin","e","preventDefault","length","prev","signInWithPassword","message","includes","Error","setSession","access_token","refresh_token","log","err","handleSocialLogin","provider","setItem","signInWithOAuth","options","redirectTo","window","location","origin","handleMagicLinkLogin","signInWithOtp","emailRedirectTo","alert","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","required","checked","to","disabled","onClick","_c","$RefreshReg$"],"sources":["/workspaces/Smart_Pet_Feeder/src/pages/Login.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient.ts';\nimport { isValidEmail } from '../utils/validation.ts';\nimport '../styles/Auth.css';\n\nconst Login: React.FC = () => {\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [rememberMe, setRememberMe] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [loginAttempts, setLoginAttempts] = useState<number>(0);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check if user is already logged in\n    const checkSession = async () => {\n      try {\n        const { data, error } = await supabase.auth.getSession();\n        if (error) {\n          console.error(\"Session check error:\", error);\n          return;\n        }\n        \n        if (data.session) {\n          // Get the redirect path from sessionStorage or default to dashboard\n          const redirectPath = sessionStorage.getItem('redirectAfterLogin') || '/dashboard';\n          // Clear the stored path\n          sessionStorage.removeItem('redirectAfterLogin');\n          // Navigate to the redirect path\n          navigate(redirectPath);\n        }\n      } catch (error) {\n        console.error(\"Failed to check session:\", error);\n      }\n    };\n    \n    checkSession();\n  }, [navigate]);\n\n  const handleEmailLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Form validation\n    if (!email || !isValidEmail(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    \n    if (!password || password.length < 6) {\n      setError('Password must be at least 6 characters');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Track login attempts to detect potential issues\n      setLoginAttempts(prev => prev + 1);\n      \n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n      \n      if (error) {\n        if (error.message.includes('Invalid login')) {\n          throw new Error('Invalid email or password');\n        }\n        throw error;\n      }\n      \n      if (data.session) {\n        // Set session persistence based on rememberMe\n        if (rememberMe) {\n          // Session will persist for extended period\n          await supabase.auth.setSession({\n            access_token: data.session.access_token,\n            refresh_token: data.session.refresh_token,\n          });\n        }\n        \n        // Get the redirect path from sessionStorage or default to dashboard\n        const redirectPath = sessionStorage.getItem('redirectAfterLogin') || '/dashboard';\n        // Clear the stored path\n        sessionStorage.removeItem('redirectAfterLogin');\n        // Navigate to the redirect path\n        console.log(\"Login successful, redirecting to:\", redirectPath);\n        navigate(redirectPath);\n      }\n    } catch (err: any) {\n      setError(err.message || 'An error occurred during login');\n      \n      // If multiple login attempts fail, provide more detailed error\n      if (loginAttempts > 2) {\n        console.error(\"Multiple login failures:\", err);\n        setError(\n          `${err.message || 'Login failed'} - If this persists, please check your internet connection and try clearing your browser cache.`\n        );\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSocialLogin = async (provider: 'google' | 'facebook' | 'apple' | 'github') => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Save current attempted path before OAuth redirect\n      const redirectPath = sessionStorage.getItem('redirectAfterLogin') || '/dashboard';\n      sessionStorage.setItem('socialAuthRedirect', redirectPath);\n      \n      const { error } = await supabase.auth.signInWithOAuth({\n        provider,\n        options: {\n          redirectTo: `${window.location.origin}/auth/callback`,\n        },\n      });\n      \n      if (error) throw error;\n      \n    } catch (err: any) {\n      setError(err.message || `Error signing in with ${provider}`);\n      setLoading(false);\n    }\n  };\n\n  const handleMagicLinkLogin = async () => {\n    if (!email || !isValidEmail(email)) {\n      setError('Please enter a valid email address');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      const { error } = await supabase.auth.signInWithOtp({\n        email,\n        options: {\n          emailRedirectTo: `${window.location.origin}/auth/callback`,\n        },\n      });\n      \n      if (error) throw error;\n      \n      alert('Check your email for the magic link!');\n    } catch (err: any) {\n      setError(err.message || 'Error sending magic link');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container fade-in\">\n      <div className=\"auth-card\">\n        <div className=\"auth-logo\">\n          <img src=\"/logo.svg\" alt=\"Pet Feeder Logo\" />\n          <h1>Pet Feeder</h1>\n        </div>\n        \n        <h2>Log in to your account</h2>\n        \n        {error && <div className=\"auth-error\">{error}</div>}\n        \n        <form onSubmit={handleEmailLogin}>\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">Email</label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"your@email.com\"\n              required\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              placeholder=\"••••••••\"\n              required\n            />\n            <div className=\"auth-meta\">\n              <div className=\"remember-me\">\n                <input\n                  id=\"remember-me\"\n                  type=\"checkbox\"\n                  checked={rememberMe}\n                  onChange={(e) => setRememberMe(e.target.checked)}\n                />\n                <label htmlFor=\"remember-me\">Remember me</label>\n              </div>\n              <Link to=\"/forgot-password\" className=\"forgot-password\">\n                Forgot password?\n              </Link>\n            </div>\n          </div>\n          \n          <button \n            type=\"submit\" \n            className=\"btn btn-primary btn-full\" \n            disabled={loading}\n          >\n            {loading ? 'Logging in...' : 'Log In'}\n          </button>\n        </form>\n        \n        <div className=\"auth-divider\">\n          <span>OR</span>\n        </div>\n        \n        <div className=\"social-login\">\n          <button \n            onClick={() => handleSocialLogin('google')} \n            className=\"btn btn-social btn-google\"\n            disabled={loading}\n          >\n            <i className=\"icon-google\"></i> Google\n          </button>\n          <button \n            onClick={() => handleSocialLogin('facebook')} \n            className=\"btn btn-social btn-facebook\"\n            disabled={loading}\n          >\n            <i className=\"icon-facebook\"></i> Facebook\n          </button>\n          <button \n            onClick={() => handleSocialLogin('apple')} \n            className=\"btn btn-social btn-apple\"\n            disabled={loading}\n          >\n            <i className=\"icon-apple\"></i> Apple\n          </button>\n          <button \n            onClick={() => handleSocialLogin('github')} \n            className=\"btn btn-social btn-github\"\n            disabled={loading}\n          >\n            <i className=\"icon-github\"></i> GitHub\n          </button>\n        </div>\n        \n        <button \n          onClick={handleMagicLinkLogin} \n          className=\"btn btn-outline btn-full\"\n          disabled={loading || !email}\n        >\n          Send Magic Link\n        </button>\n        \n        <div className=\"auth-footer\">\n          Don't have an account?{' '}\n          <Link to=\"/signup\">Create an account</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}